{
  "apiRequestTemplate": {
    "application/json": {
      "httpMethod": "$context.httpMethod",
      "body": "$input.json('$')",
      "queryParams": "$input.params().querystring",
      "headerParams": "$input.params().header",
      "headerParamNames": "$input.params().header.keySet()",
      "contentTypeValue": "$input.params().header.get('Content-Type')"
    }
  },
  "apiSuccessResponseTemplate": {
    "application/json": "{\"success\":true, \"data\": $input.json('$') }"
  },
  "apiFailureResponseTemplate": {
    "application/json": "#set($inputRoot = $input.path('$.errorMessage')){\"success\":false, \"error\": $inputRoot }"
  },
  "responsesForGet": {
    ".*400.*": "$${response400}",
    ".*Process exited.*": "$${response500}",
    ".*Task timed out.*": "$${response504}",
    "default": "$${response200}"
  },
  "responsesForPost": {
    ".*400.*": "$${response400}",
    ".*Process exited.*": "$${response500}",
    ".*Task timed out.*": "$${response504}",
    "default": "$${response201}"
  },
  "response200": {
    "statusCode": "200",
    "responseParameters": "$${responseParameters}",
    "responseTemplates": {
      "application/json": "{\"success\":true, \"data\": $input.json('$') }"
    }
  },
  "response201": {
    "statusCode": "201",
    "responseParameters": "$${responseParameters}",
    "responseTemplates": {
      "application/json": ""
    }
  },
  "response400": {
    "statusCode": "400",
    "responseModels": {},
    "responseParameters": "",
    "responseTemplates": {
      "application/json": "#set($inputRoot = $input.path('$.errorMessage'))$inputRoot"
    }
  },
  "response500": {
    "statusCode": "500",
    "responseParameters": "$${responseParameters}",
    "responseTemplates": {
      "application/json": "{\"error\": \"Server Error\"}"
    }
  },
  "response504": {
    "statusCode": "504",
    "responseParameters": "$${responseParameters}",
    "responseTemplates": {
      "application/json": "{\"error\": \"Gateway Timeout\"}"
    }
  },
  "responseParameters": {
    "method.response.header.location": "integration.response.body.links.self"
  },
  "corsTemplate": {
    "allowOrigin": "*",
    "allowHeaders": ["Content-Type", "X-Amz-Date", "Authorization", "X-Api-Key"]
  },
  "environmentTemplate":{
    "SERVERLESS_PROJECT": "${project}",
    "SERVERLESS_STAGE": "${stage}",
    "SERVERLESS_REGION": "${region}",
    "SERVERLESS_DATA_MODEL_STAGE":"${stage}",
    "GITHUB_APP_CLIENT_KEY":"${githubAppClientKey}",
    "GITHUB_APP_CLIENT_SECRET":"${githubAppClientSecret}",
    "ENCRYPTION_PASSPHRASE":"${encryptionPassphrase}",
    "ENCRYPTION_JWT_PASSPHRASE":"${encryptionJwtPassphrase}",
    "GITHUB_CAPSULECD_USER_TOKEN":"${githubCapsulecdUserToken}",
    "TUTUM_API_KEY":"${tutumApiKey}",
    "API_SHA1":"${apiSha1}"
  }

}